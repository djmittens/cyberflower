/* Panels */
.hud-panel{position:relative;background:var(--panel);border:var(--stroke) solid var(--line-1);
  border-radius:var(--radius-hud);box-shadow:inset 0 0 0 1px rgba(18,247,214,.08);}
.hud-panel--raised{background:var(--panel-raised);} 

/* Notches (hardware vibe) */
.hud-notch::before,.hud-notch::after{content:"";position:absolute;width:10px;height:10px;
  border-top:1px solid var(--line-1);border-left:1px solid var(--line-1);opacity:.6;}
.hud-notch::before{top:6px;left:6px;transform:skew(-45deg);} 
.hud-notch::after{right:6px;bottom:6px;transform:rotate(180deg) skew(-45deg);} 

/* Banner */
.hud-banner{position:relative;padding:16px 20px 12px;background:linear-gradient(180deg,var(--bg-850) 0%,var(--bg-900) 100%);
  border-bottom:1px solid var(--line-1);contain:layout paint;}
.hud-banner__row{display:grid;grid-template-columns:61.8% 38.2%;gap:16px;align-items:center;margin-bottom:12px;}
.hud-banner__row:last-child{margin-bottom:0;}
.hud-grid::before{content:"";position:absolute;inset:0;pointer-events:none;
  background-image:radial-gradient(var(--gridline) 1px,transparent 1px),
                    linear-gradient(var(--gridline) 1px,transparent 1px),
                    linear-gradient(90deg,var(--gridline) 1px,transparent 1px);
  background-size:6px 6px,24px 24px,24px 24px;opacity:.03;}

/* Brand */
.brand{display:flex;align-items:center;gap:14px;}
.brand__jp{font-size:18px;letter-spacing:.06em;color:var(--accent-mag);
  text-shadow:1px 0 var(--accent-cyan),-1px 0 rgba(255,61,129,.6);opacity:.85;}
.brand__title{font-weight:700;letter-spacing:.02em;font-size:22px;color:var(--text-100);} 
.brand__title .accent{color:var(--accent-cyan);} .brand__title small{font-weight:500;opacity:.7;letter-spacing:.15em;}

/* Bracketed label & input box */
.bracket-label{place-self:end start;text-transform:uppercase;letter-spacing:.08em;color:var(--accent-cyan);
  font-size:12px;font-weight:600;position:relative;padding-left:12px;}
.bracket-label::before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);
  width:8px;height:8px;border-left:1px solid var(--accent-cyan);border-top:1px solid var(--accent-cyan);} 
.bracket-box{grid-column:1 / -1;position:relative;background:var(--panel);
  border:1px solid var(--accent-cyan);box-shadow:inset 0 0 0 1px rgba(18,247,214,.12);
  border-radius:14px;padding:10px 12px;display:flex;align-items:center;}
/* Remove rounded corners and default border when used as action bar */
.bracket-box.action-bar{border-radius:0 !important;border:1px solid var(--accent-cyan);background:transparent;}
.bracket-box.action-bar:focus-within{box-shadow:initial;}
.hud-input{flex:1;background:transparent;color:var(--text-100);border:none;outline:none;font-size:16px;}
.bracket-box:not(.action-bar):focus-within{box-shadow:0 0 0 1px var(--accent-cyan),0 0 0 4px rgba(18,247,214,.22),inset 0 0 0 1px rgba(18,247,214,.18);} 
.bracket-box .notch{position:absolute;right:8px;top:8px;width:14px;height:14px;border-top:1px solid var(--accent-cyan);
  border-right:1px solid var(--accent-cyan);transform:skew(-45deg);opacity:.9;pointer-events:none;}

/* Action bar enhancements */
.action-bar{--ab-glow:0 0 0 rgba(0,0,0,0); --cut:12px; transition:box-shadow .2s ease,background .2s ease;
  box-shadow:0 0 0 1px rgba(18,247,214,.22), inset 0 0 0 1px rgba(18,247,214,.14), var(--ab-glow);
  background:
    linear-gradient(180deg, rgba(8,12,18,.78), rgba(8,12,18,.78)) padding-box,
    radial-gradient(120% 60% at 0% 0%, rgba(18,247,214,.06), transparent 70%) border-box;}
.action-bar{clip-path:polygon(0 0, calc(100% - var(--cut)) 0, 100% var(--cut), 100% 100%, 0 100%);-webkit-clip-path:polygon(0 0, calc(100% - var(--cut)) 0, 100% var(--cut), 100% 100%, 0 100%);border-radius:0 !important;overflow:hidden;} 
.action-bar .notch{display:none;} 
@supports not (clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%)){
  .action-bar{clip-path:none;border-radius:14px;}
}
.action-input{width:100%;height:42px;padding:0 56px 0 36px;background:transparent;border:none;color:var(--text-100);caret-color:var(--accent-cyan);
  font-family: 'Share Tech Mono', ui-monospace, monospace; letter-spacing:.2px;} 
.action-input:focus-visible{outline:none;}
.action-bar:has(.action-input:focus){--ab-glow:0 0 0 1px rgba(0,255,255,.18),0 0 28px rgba(0,255,255,.16);} 
.kbd-hint{position:absolute;right:10px;top:50%;transform:translateY(-50%);font:600 11px/1 var(--mono,'Share Tech Mono',ui-monospace,monospace);transition:opacity .15s var(--ease), transform .15s var(--ease);
  color:rgba(255,255,255,.66);background:rgba(0,0,0,.28);border:1px solid rgba(255,255,255,.2);padding:2px 6px;border-radius:4px;letter-spacing:.4px;}
.action-bar:has(.action-input:focus) .kbd-hint{opacity:0;transform:translateY(-50%) translateX(4px);} 
.action-input::placeholder{color:var(--text-40);opacity:.9;}

/* Decorative icon + seam */
.action-bar::before{content:"";position:absolute;left:12px;top:50%;transform:translateY(-50%);width:16px;height:16px;opacity:.7;
  background: no-repeat center/16px 16px url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2312F7D6' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='7'/%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'/%3E%3C/svg%3E");}
.action-bar::after{content:"";position:absolute;left:10px;right:10px;top:0;height:1px;opacity:.35;
  background:linear-gradient(90deg, transparent, var(--accent-cyan), transparent);} 

/* Command palette panel */
.action-panel{position:absolute;left:0;right:0;top:calc(100% + 8px);z-index:20;background:linear-gradient(180deg, rgba(9,13,18,.98), rgba(9,13,18,.96));
  border:1px solid rgba(0,255,255,.18);border-radius:6px;padding:6px;clip-path:polygon(0 0, calc(100% - 12px) 0, 100% 12px, 100% 100%, 0 100%);
  box-shadow:0 10px 30px rgba(0,0,0,.5),0 0 28px rgba(0,255,255,.08);} 
.action-panel.hidden{display:none;}
.action-group-title{font:600 11px/1 var(--mono,'Share Tech Mono',ui-monospace,monospace);color:rgba(255,255,255,.6);padding:6px 8px 4px;}
.action-list{list-style:none;margin:0;padding:0;}
.action-item{display:flex;align-items:center;gap:10px;padding:10px 10px;border-radius:4px;cursor:pointer;color:var(--text-100);} 
.action-item .meta{margin-left:auto;opacity:.6;font-size:12px;}
.action-item .kind{font:600 11px/1 var(--mono,'Share Tech Mono',ui-monospace,monospace);opacity:.66;padding:2px 6px;border:1px solid rgba(255,255,255,.18);border-radius:3px;}
.action-item.is-active{background:rgba(0,255,255,.08);box-shadow:inset 0 0 0 1px rgba(0,255,255,.16);} 
.action-item:hover{background:rgba(0,255,255,.06);} 


@media (max-width: 720px){
  .action-input{height:38px;padding:0 46px 0 34px;}
  .kbd-hint{display:none;}
}

/* Chips */
.chip-row{display:flex;gap:10px;margin-top:10px;}
.hud-chip{background:var(--panel-raised);border:1px solid var(--line-2);border-radius:999px;color:var(--text-70);
  padding:4px 10px;font-size:12px;line-height:1;transition:transform var(--dur-med) var(--ease),border-color var(--dur-med);} 
.hud-chip[data-active="true"]{border-color:var(--accent-cyan);color:var(--text-100);} 
.hud-chip:hover{transform:translateY(-1px);} .hud-chip .meta{color:var(--text-40);margin-left:4px;}

/* Headlines */
.hud-kicker{text-transform:uppercase;letter-spacing:.08em;color:var(--accent-cyan);font-size:var(--font-xxs);font-weight:600;}
.hud-title{font-size:var(--font-xl);font-weight:600;letter-spacing:.01em;}

/* Perf & a11y helpers */
.contain-paint{contain:layout paint;} .cv-auto{content-visibility:auto;contain-intrinsic-size:400px 800px;}
.svg-16 svg{width:16px;height:16px;stroke-width:1.5;} .svg-20 svg{width:20px;height:20px;stroke-width:1.5;}
.hud-focus:focus-visible{outline:2px solid color-mix(in oklab,var(--accent-cyan) 70%,transparent);outline-offset:2px;}
@media (prefers-reduced-motion: reduce){.hud-chip{transition:none;}}
